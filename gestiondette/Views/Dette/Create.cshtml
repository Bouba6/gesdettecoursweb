@model gestiondette.Models.Dette

@{
    Layout = "_layout";
}

<main class="p-4 sm:ml-64 overflow-hidden">
    <p class="bg-red-600">voici ton gars</p>
    <p>@ViewBag.selectedClient</p>
    <div class="flex flex-col justify-center items-center">
        <h1 class="text-3xl font-bold">Ajout Dette</h1>
        <div class="md:w-xgg sm:w-900 mx-auto p-6 border-t-black shadow-md border-2 rounded-md m-6">
            <form asp-action="AjouterArticle" method="post">
                <div class="">
                    <label for="Client">Client</label>
                    <select name="ClientId" id="Client"
                        class="p-2 mt-3 border border-gray-300 w-full rounded-md focus:outline-none focus:border-blue-500">
                        <option value="">Select a Client</option>
                        @if (ViewBag.Clients != null)
                        {

                            foreach (var client in ViewBag.Clients)
                            {
                                <option value="@client.Id" selected="@(ViewBag.selectedClient == client.Id )">
                                    @client.Surnom
                                </option>
                            }
                        }
                    </select>
                </div>
                <div class=" flex flex-row items-center space-x-4 mt-4 justify-between">
                    <div class="">
                        <label for="Client">Article</label>
                        <select name="ArticleId" id="Article"
                            class="p-2 mt-3 border border-gray-300 w-full rounded-md focus:outline-none focus:border-blue-500">
                            <option value="">Select a libelle</option>
                            @if (ViewBag.articles != null)
                            {
                                foreach (var article in ViewBag.articles)
                                {
                                    <option value="@article.Id">@article.Libelle</option>
                                }
                            }
                        </select>
                    </div>

                    <div class="">
                        <label for="Article">Montant</label>
                        <input type="number" name="qte"
                            class="p-2 mt-3 border border-gray-300 w-full rounded-md focus:outline-none focus:border-blue-500">

                    </div>

                    <div class="">
                        <button type="submit"
                            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Ajouter</button>
                    </div>
                </div>
            </form>
            <form asp-action="create" method="post">
                <div asp-validation-summary="All" class="text-danger"></div>







                <div class="relative overflow-x-auto shadow-md sm:rounded-lg  mt-4">
                    <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                        <thead
                            class="text-xs text-gray-700 uppercase  dark:bg-gray-700 dark:text-gray-400  bg-gray-900">
                            <tr>
                                <th scope="col" class="px-6 py-5 text-white">
                                    libelle
                                </th>
                                <th scope="col" class="px-6 py-5 text-white">
                                    montant
                                </th>
                                <th scope="col" class="px-6 py-5 text-white">
                                    quantite
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in ViewBag.panier.detailDettes)
                            {
                                <tr
                                    class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
                                    <td scope="row"
                                        class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                        @item.Article.Libelle
                                    </td>
                                    <td scope="row"
                                        class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                        @item.Total
                                    </td>
                                    <td scope="row"
                                        class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                        @item.Qte
                                    </td>

                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
                <div class="w-full flex justify-end mt-6">
                    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Save
                    </button>
                </div>
            </form>
        </div>
    </div>
</main>